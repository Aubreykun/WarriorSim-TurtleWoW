importScripts("./data/buffs.min.js","./data/enchants.min.js","./data/levelstats.min.js","./data/spells.min.js","./data/talents.min.js","./classes/player.min.js","./classes/simulation.min.js","./classes/spell.min.js","./classes/weapon.min.js","./globals.min.js"),onmessage=(s=>{const a=s.data;a.globals.sod?importScripts("./data/gear_sod.min.js","./data/runes.min.js"):importScripts("./data/gear.min.js"),updateGlobals(a.globals);const e=new Player(...a.player),t=new Simulation(e,s=>{a.fullReport&&(s.player=e.serializeStats(),s.spread=t.spread),postMessage([TYPE.FINISHED,s])},(s,a)=>{postMessage([TYPE.UPDATE,s,a])},a.sim);t.startSync()});