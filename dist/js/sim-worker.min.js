importScripts("./data/buffs.min.js","./data/levelstats.min.js","./data/spells.min.js","./data/talents.min.js","./classes/player.min.js","./classes/simulation.min.js","./classes/spell.min.js","./classes/weapon.min.js","./globals.min.js"),onmessage=(s=>{const a=s.data;a.globals.turtle?importScripts("./data/gear_turtle.min.js","./data/enchants_turtle.min.js"):a.globals.sod?importScripts("./data/gear_sod.min.js","./data/runes.min.js"):importScripts("./data/gear.min.js"),updateGlobals(a.globals);const t=new Player(...a.player),e=new Simulation(t,s=>{a.fullReport&&(s.player=t.serializeStats(),s.spread=e.spread),postMessage([TYPE.FINISHED,s])},(s,a)=>{postMessage([TYPE.UPDATE,s,a])},a.sim);e.startSync()});