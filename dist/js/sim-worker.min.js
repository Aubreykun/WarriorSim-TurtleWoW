importScripts("./data/levelstats.min.js","./data/talents.min.js","./classes/player.min.js","./classes/simulation.min.js","./classes/spell.min.js","./classes/weapon.min.js","./globals.min.js"),onmessage=(s=>{const t=s.data;t.globals.turtle?(importScripts("./data/spells_turtle.min.js"),importScripts("./data/buffs_turtle.min.js"),importScripts("./classes/spell_turtle.min.js")):(importScripts("./data/spells.min.js"),importScripts("./data/buffs.min.js"),importScripts("./classes/spell.min.js")),t.globals.turtle||t.globals.turtleclassic?importScripts("./data/gear_turtle.min.js","./data/enchants_turtle.min.js"):t.globals.sod?importScripts("./data/gear_sod.min.js","./data/runes.min.js"):importScripts("./data/gear.min.js"),updateGlobals(t.globals);const a=new Player(...t.player),l=new Simulation(a,s=>{t.fullReport&&(s.player=a.serializeStats(),s.spread=l.spread),postMessage([TYPE.FINISHED,s])},(s,t)=>{postMessage([TYPE.UPDATE,s,t])},t.sim);l.startSync()});